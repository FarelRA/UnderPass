name = "router"
main = "src/index.js"
compatibility_date = "2025-08-29"

[observability]
enabled = true

[vars]
# Define your routes as a JSON string.
# - "path": The URL prefix to match.
# - "backends": An array of one or more backend URLs.
#
# IMPORTANT: Order matters! Place more specific
# paths (/api/v1) before less specific ones (/).
CONFIG = '''
[
  {
    "path": "/flyio",
    "backends": [ "https://flyio.farel.is-a.dev/proxy/flyio" ]
  },
  {
    "path": "/deno",
    "backends": [ "https://deno.farel.is-a.dev" ]
  },
  {
    "path": "/balance",
    "backends": [
      "https://flyio.farel.is-a.dev/proxy/flyio",
      "https://deno.farel.is-a.dev",
      "https://oracle.farel.is-a.dev"
    ]
  }
]
'''
